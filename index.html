<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Saját Brain.js Chatbot</title>
</head>
<body>
  <h1>Chatbot</h1>
  <input id="userInput" type="text" placeholder="Írj valamit...">
  <button id="sendBtn">Küldés</button>
  <p id="botReply"></p>

  <script>
    // ===== Saját Brain.js kód itt a HTML-ben =====
    class MyBrain {
      constructor() {
        this.patterns = [];
      }

      train(data) {
        this.patterns = data
          .filter(d => d.input && d.output)
          .map(d => ({
            input: d.input.toLowerCase().trim(),
            output: d.output.trim()
          }));
      }

      run(text) {
        text = text.toLowerCase().trim();
        for (let p of this.patterns) {
          if (text === p.input) return p.output;
        }
        return "Nem tudom.";
      }
    }
    // ===== Brain.js vége =====

    const net = new MyBrain();

    // ===== brain.txt betöltése GitHub raw URL-ről =====
    const txtUrl = 'brain.txt'; // cseréld a saját URL-re

    fetch(txtUrl)
      .then(res => res.text())
      .then(text => {
        const trainingData = text.split('\n').map(line => {
          const [input, output] = line.split('|');
          return { input: input, output: output };
        });
        net.train(trainingData);
        console.log('AI betanítva:', trainingData);
      })
      .catch(err => console.error('Hiba a .txt betöltésénél:', err));

    // ===== Üzenetküldés kezelése =====
    document.getElementById('sendBtn').addEventListener('click', () => {
      const userText = document.getElementById('userInput').value;
      const reply = net.run(userText);
      document.getElementById('botReply').innerText = reply;
    });

    document.getElementById('userInput').addEventListener('keydown', (e) => {
      if(e.key === 'Enter') document.getElementById('sendBtn').click();
    });
  </script>
</body>
</html>
